# RimTalk Dynamic Colors (边缘世谭-言出多彩)

## 🤝 Contributing / 贡献 (For Developers)
**Welcome to contribute! If you want to help update this mod for RimWorld 1.5:**
1. **Fork** this repository.
2. Make your changes.
3. Submit a **Pull Request (PR)**.
I will review and merge it. Thank you!

欢迎提交代码！如果你愿意协助更新 1.5 版本，请 Fork 本仓库并提交 PR。

---

## ⚠️ 加载顺序 / Load Order
**请务必按照以下顺序排序模组，否则可能会报错：**
**Please follow this load order strictly:**

1. Harmony
2. Interaction Bubbles
3. RimTalk
4. **RimTalk DynamicColors (本模组 / This Mod)**

---

## 简介 / Introduction
**GitHub Repository:** [github.com/Maiya0126/RimTalkDynamicColors](https://github.com/Maiya0126/RimTalkDynamicColors)

**英文名：** RimTalk DynamicColors
**中文名：** 边缘世谭-言出多彩

这是一个为 RP (角色扮演) 玩家和故事讲述者量身定制的 RimTalk 增强模组。它能让你的殖民者在聊天时更加生动多彩，完美利用 Interaction Bubbles 进行展示！

This is a tailored enhancement mod for RimTalk, designed for RP players and storytellers. It brings vivid colors to your colonists' conversations through Interaction Bubbles!

---

## 功能介绍 / Features
**✨ 所有功能均可在 Mod 设置里自由开关。**
**✨ All features can be toggled freely in Mod Settings.**

### 1. 🎨 角色专属对话色 (Dynamic Character Colors)
- 您可以为特定的角色设置专属的文字颜色。
- 支持**自动应用**角色的“最爱颜色”（需要文化 Ideology DLC），让每个人的发言都带有鲜明的个人特色。
- 支持手动加粗名字，让主角在对话中更加醒目。

### 2. 🗨️ 沉浸式动作描述 (Immersive Actions)
- 模组会自动识别括号 **( )**、星号 **\* \*** 或方括号 **【 】** 包裹的内容。
- 这部分通常用于描述动作或心理活动（如：*叹气*、(摸摸头)）。
- 模组会自动将这部分文字**变暗（半透明）**或**改为斜体**，使其在视觉上与正常的口语对话区分开来，极大地增强了阅读体验。

### 3. 💭 气泡实时同步 (Bubbles Sync)
- 本模组的所有颜色、加粗、斜体特效都会**完美同步**到 Interaction Bubbles 的气泡中！
- 让原本单调的白色气泡瞬间变得丰富多彩，一眼就能区分是谁在说话、在做什么动作。

### 4. 🔍 关键词高亮 (Keyword Highlighting)
- 您可以自定义关键词（如“袭击”、“我爱你”），当它们出现在对话中时，会自动高亮显示。

### 5. 📜 历史记录与导出 (History & Export)
- 模组内置了**会话级历史记录查看器**，您可以回看本局游戏内产生的对话。
- 支持一键复制到剪贴板，或**导出为 .txt 或 .html 文件**（保留颜色格式），方便您保存和分享精彩的故事片段。

---

## 整活物品 / New Interesting Items
本模组添加了三种有趣的社交药物/物品，可以在**手工加工点**使用 1 个药草制作：

### 🍬 彩虹糖 (Rainbow Candy)
- 吃下它，你说出的每一句话都会变成流动的**七彩色**！
- 效果持续一天。

### 💊 黑白药丸 (B&W Pill)
- 吃下它，你的言语会变成诡异的**黑白钢琴键风格**（高对比度黑白交替）。
- 适合扮演冷酷或神秘的角色。

### 🍵 环缘水 (Clear Soup)
- 一碗清澈的药汤。
- 喝下它，可以立即**清除**彩虹糖或黑白药丸带来的特效，让视界恢复正常。

---

## 常见问题 / FAQ

**Q: 游戏内出现红字报错 "Json deserialization failed for TalkResponse"？**
**A:** 这是一个已知现象，但这**不是本模组的 Bug**，也不会损坏您的存档。
这是由于 AI 模型（LLM）偶尔会“幻觉”，输出了不符合格式的数据（例如把两个人的话捏在了一起）。
**解决方案：**直接忽略该红字即可。如果您频繁遇到此问题，建议尝试更换更智能的 AI 模型（如 GPT-4o 或 Claude-3.5）。

**Q: Red error "Json deserialization failed for TalkResponse"?**
**A:** This is a known issue, but it is **NOT a bug with this mod** and will not break your save.
It is caused by the AI model (LLM) occasionally hallucinating invalid data formats.
**Solution:** Simply ignore the error. If it happens frequently, try using a smarter AI model (e.g., GPT-4o or Claude-3.5).

---

## 前置模组 / Requirements
- Harmony
- Interaction Bubbles (**必须安装 / Required**)
- RimTalk (**必须安装 / Required**)

---

*让每一个故事，都拥有它的色彩。*

If you enjoy what I do, consider supporting me on Ko-fi! Every little bit means the world! 
[https://ko-fi.com/maiya0126](https://ko-fi.com/maiya0126)